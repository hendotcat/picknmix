clamp(a, b, c) = min(max(b, a), c)
margin(w) = clamp(0, (w-256)/2, 16) - clamp(0, (w-512), 16)
plot(margin(w), 128..1024)
